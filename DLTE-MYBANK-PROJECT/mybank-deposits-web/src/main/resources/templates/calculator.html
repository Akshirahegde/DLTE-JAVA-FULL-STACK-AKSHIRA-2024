<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Calculator for MyBank</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">-->
<!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>-->
<!--</head>-->
<!--<header th:replace="nav::navbar"></header>-->
<!--<body>-->
<!--<div class="container">-->
<!--    <h1 class="text-center my-4">CALCULATOR</h1>-->
<!--    <div class="row justify-content-center">-->
<!--        <div class="col-md-6">-->
<!--            <form>-->
<!--                <div class="form-group">-->
<!--                    <label for="depositName">DEPOSIT NAME</label>-->
<!--                    <input type="text" class="form-control" id="depositName" placeholder="Enter deposit name">-->
<!--                </div>-->

<!--                <div class="form-group">-->
<!--                    <label for="depositAmount">DEPOSIT AMOUNT</label>-->
<!--                    <input type="number" class="form-control" id="depositAmount" placeholder="Enter deposit amount">-->
<!--                </div>-->
<!--                <div class="form-group">-->
<!--                    <label for="depositAmount">DEPOSIT ROI</label>-->
<!--                    <input type="number" class="form-control" id="depositRoi" placeholder=" deposit Roi" readonly>-->
<!--                </div>-->
<!--                <div class="form-group">-->
<!--                    <label for="tenure">TENURE</label>-->
<!--                    <input type="number" class="form-control" id="tenure" placeholder="Enter tenure">-->
<!--                </div>-->
<!--                <button type="button" class="btn btn-block btn-primary" id="calculate">CALCULATE</button>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--<div class="container">-->
<!--    <div class="row justify-content-center mt-4">-->
<!--        <div class="col-md-6">-->
<!--            <div class="form-group">-->
<!--                <label for="maturityAmount">MATURITY AMOUNT</label>-->
<!--                <input type="text" class="form-control" id="maturityAmount" disabled>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script>-->
<!--    $(document).ready(() => {-->
<!--        $("#calculate").click(() => {-->
<!--            const name = $("#depositName").val();-->

<!--            $.ajax({-->
<!--                url: `http://localhost:8085/module/deposits/id?depositName=${name}`,-->
<!--                type: "GET",-->
<!--                dataType: "json",-->
<!--                beforeSend: function (handler) {-->
<!--                    handler.setRequestHeader("Authorization", "Basic " + btoa("Patwardhan:divija123"))-->
<!--                },-->
<!--                success: function (response) {-->
<!--                    const depositId = response;-->
<!--                    calculateMaturityAmount(depositId);-->
<!--                },-->
<!--                error: function (err) {-->
<!--                    console.error("Error fetching deposit ID:", err);-->
<!--                }-->
<!--            })-->
<!--        })-->

<!--        function calculateMaturityAmount(depositId) {-->
<!--            const amount = $("#depositAmount").val();-->
<!--            const tenure = $('#tenure').val();-->

<!--            $.ajax({-->
<!--                url: `http://localhost:8085/module/deposits/${depositId}/${amount}/${tenure}`,-->
<!--                type: "GET",-->
<!--                dataType: "json",-->
<!--                beforeSend: function (handler) {-->
<!--                    handler.setRequestHeader("Authorization", "Basic " + btoa("Patwardhan:divija123"))-->
<!--                },-->
<!--                success: function (response) {-->
<!--                    $("#maturityAmount").val(response);-->
<!--                },-->
<!--                error: function (err) {-->
<!--                    console.error("Error calculating maturity amount:", err);-->
<!--                }-->
<!--            })-->
<!--        }-->
<!--    })-->
<!--</script>-->

<!--</body>-->
<!--<footer th:replace="footer::footer"></footer>-->
<!--</html>-->



<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator for MyBank</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link th:href="@{'/styles/calculator.css'}" type="text/css" th:rel="stylesheet">
</head>
<header th:replace="nav::navbar"></header>
<body>
<div class="container">
    <h1 class="text-center my-4">CALCULATOR</h1>
    <div class="row justify-content-center">
        <div class="col-md-6">
            <form>
                <div class="form-group">
                    <label for="depositName" class="col-sm-4 col-form-label">DEPOSIT NAME</label>
                    <input type="text" class="form-control" id="depositName" placeholder="Enter deposit name" >
                </div>

                <div class="form-group">
                    <label for="depositAmount">DEPOSIT ROI</label>
                    <input type="number" class="form-control" id="depositRoi" placeholder=" deposit Roi" readonly>
                </div>
                <div class="form-group">
                    <label for="depositAmount">DEPOSIT AMOUNT</label>
                    <input type="number" class="form-control" id="depositAmount" placeholder="Enter deposit amount">
                </div>
                <div class="form-group">
                    <label for="tenure">TENURE</label>
                    <input type="number" class="form-control" id="tenure" placeholder="Enter tenure">
                </div>
                <button type="button" class="btn btn-block narrow-btn" id="calculate" >CALCULATE</button>

            </form>
        </div>
    </div>
</div>
<div class="container">
    <div class="row justify-content-center mt-4">
        <div class="col-md-6">
            <div class="form-group">
                <label for="maturityAmount">MATURITY AMOUNT</label>
                <input type="text" class="form-control" id="maturityAmount" disabled>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(() => {
   const depositData=JSON.parse(sessionStorage.getItem('dataNew'));
        // Populate deposit name field
        $("#depositName").val(depositData.name);
        $("#depositRoi").val(depositData.roi);
        $("#calculate").click(() => {
            const name = $("#depositName").val();

            $.ajax({
                url: `http://localhost:8085/module/deposits/id?depositName=${name}`,
                type: "GET",
                dataType: "json",
                beforeSend: function (handler) {
                    handler.setRequestHeader("Authorization", "Basic " + btoa("Patwardhan:divija123"))
                },
                success: function (response) {
                    const depositId = response;
                    calculateMaturityAmount(depositId);
                },
                error: function (err) {
                    console.error("Error fetching deposit ID:", err);
                }
            })
        })

        function calculateMaturityAmount(depositId) {
            const amount = $("#depositAmount").val();
            const tenure = $('#tenure').val();
            $.ajax({
                url: `http://localhost:8085/module/deposits/${depositId}/${amount}/${tenure}`,
                type: "GET",
                dataType: "json",
                beforeSend: function (handler) {
                    handler.setRequestHeader("Authorization", "Basic " + btoa("Patwardhan:divija123"))
                },
                success: function (response) {
                    $("#maturityAmount").val(response);
                },
                error: function (err) {
                    console.error("Error calculating maturity amount:", err);
                }
            })
        }
    })
</script>


</body>
<footer th:replace="footer::footer"></footer>
</html>


